{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export const getImages = search => {\n  const searchParams = new URLSearchParams({\n    key: '47498478-5b3c5ee421281cd3bcc4956d2',\n    q: search,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  const url = `https://pixabay.com/api/?${searchParams}`;\n\n  return fetch(url).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n};\n","export const creatImg = images =>\n  images\n    .map(\n      image =>\n        `<li class=\"gallery-item\">\n            <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n                <img class=\"gallery-img\" src=\"${image.webformatURL}\" alt=\"${image.tags}\" />\n                <ul class=\"img-info-list\">\n                    <li class=\"img-info-item\">\n                        <p class=\"info-title\">Likes</p>\n                        <p class=\"info-value\">${image.likes}</p>\n                    </li>\n                    <li class=\"img-info-item\">\n                        <p class=\"info-title\">Views</p>\n                       <p class=\"info-value\">${image.views}</p>\n                    </li>\n                    <li class=\"img-info-item\">\n                        <p class=\"info-title\">Comments</p>\n                        <p class=\"info-value\">${image.comments}</p>\n                    </li>\n                    <li class=\"img-info-item\">\n                        <p class=\"info-title\">Downloads</p>\n                        <p class=\"info-value\">${image.downloads}</p>\n                    </li>\n                </ul>\n            </a>\n        </li>`\n    )\n    .join('');\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\niziToast.settings({\n  position: 'topRight',\n  maxWidth: '430px',\n});\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { getImages } from './js/pixabay-api';\nimport { creatImg } from './js/render-functions';\n\nconst form = document.querySelector('.form');\nconst loader = document.querySelector('.loader');\nloader.style.display = 'none';\nconst galleryList = document.querySelector('.gallery-list');\nconst galleryImg = new SimpleLightbox('.gallery-item .gallery-link', {\n  captionsData: 'alt',\n});\n\nform.addEventListener('submit', heandSup);\n\nfunction heandSup(event) {\n  event.preventDefault();\n  const inputValue = event.target.elements.input.value.trim();\n  if (inputValue === '') {\n    loader.style.display = 'none';\n    iziToast.warning({\n      message: 'The field is empty!',\n    });\n    return;\n  } else {\n    loader.style.display = 'block';\n  }\n  getImages(inputValue)\n    .then(response => {\n      if (response.total === 0) {\n        galleryList.innerHTML = '';\n        throw new Error();\n      }\n      loader.style.display = 'none';\n      return response.hits;\n    })\n    .then(images => {\n      galleryList.innerHTML = '';\n      loader.style.display = 'none';\n      galleryList.innerHTML = creatImg(images);\n      galleryImg.refresh();\n    })\n    .catch(() => {\n      loader.style.display = 'none';\n      iziToast.error({\n        iconColor: '#ffffff',\n        messageColor: '#ffffff',\n        progressBarColor: '#ffffff',\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n      });\n    })\n    .finally(() => {\n      event.target.elements.input.value = '';\n    });\n}\n"],"names":["getImages","search","url","response","creatImg","images","image","iziToast","form","loader","galleryList","galleryImg","SimpleLightbox","heandSup","event","inputValue"],"mappings":"6vBAAO,MAAMA,EAAYC,GAAU,CASjC,MAAMC,EAAM,4BARS,IAAI,gBAAgB,CACvC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,CAEmD,GAEpD,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAY,CACjC,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,ECjBaC,EAAWC,GACtBA,EACG,IACCC,GACE;AAAA,4CACoCA,EAAM,aAAa;AAAA,gDACfA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,gDAItCA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,+CAIZA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,gDAIVA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,gDAIdA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,cAK1D,EACA,KAAK,EAAE,EC1BZC,EAAS,SAAS,CAChB,SAAU,WACV,SAAU,OACZ,CAAC,EAOD,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAS,SAAS,cAAc,SAAS,EAC/CA,EAAO,MAAM,QAAU,OACvB,MAAMC,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAa,IAAIC,EAAe,8BAA+B,CACnE,aAAc,KAChB,CAAC,EAEDJ,EAAK,iBAAiB,SAAUK,CAAQ,EAExC,SAASA,EAASC,EAAO,CACvBA,EAAM,eAAc,EACpB,MAAMC,EAAaD,EAAM,OAAO,SAAS,MAAM,MAAM,OACrD,GAAIC,IAAe,GAAI,CACrBN,EAAO,MAAM,QAAU,OACvBF,EAAS,QAAQ,CACf,QAAS,qBACf,CAAK,EACD,MACJ,MACIE,EAAO,MAAM,QAAU,QAEzBT,EAAUe,CAAU,EACjB,KAAKZ,GAAY,CAChB,GAAIA,EAAS,QAAU,EACrB,MAAAO,EAAY,UAAY,GAClB,IAAI,MAEZ,OAAAD,EAAO,MAAM,QAAU,OAChBN,EAAS,IACtB,CAAK,EACA,KAAKE,GAAU,CACdK,EAAY,UAAY,GACxBD,EAAO,MAAM,QAAU,OACvBC,EAAY,UAAYN,EAASC,CAAM,EACvCM,EAAW,QAAO,CACxB,CAAK,EACA,MAAM,IAAM,CACXF,EAAO,MAAM,QAAU,OACvBF,EAAS,MAAM,CACb,UAAW,UACX,aAAc,UACd,iBAAkB,UAClB,QACE,0EACV,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbO,EAAM,OAAO,SAAS,MAAM,MAAQ,EAC1C,CAAK,CACL"}